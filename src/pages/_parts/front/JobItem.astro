---
import { Job } from '@/utils/types/Company';
import dayjs from 'dayjs';
import relativeTime from 'dayjs/plugin/relativeTime';
dayjs.extend(relativeTime)

export interface Props {
    job: Job
}
const { job } = Astro.props;
---
<div class="flex flex-col md:flex-row w-full p-4 border border-purple-100 rounded-lg bg-purple-50 shadow hover:shadow-xl transition duration-200 ease-out hover:-translate-y-1">
    <div class="flex-1">
        <p class="font-medium text-primary">{job.title}</p>
        <p class="text-teal-700 text-xs">Posted {dayjs(job.createdAt).fromNow()}</p>
        <p class="text-gray-600 text-sm"><b>Skills:</b> {job.skills?.split(',').map(skill => <span class="border border-gray-400 rounded-full px-2 mx-1">{skill}</span>)}</p>
        <p class="text-gray-600 text-sm"><b>Experience:</b>  {job.experience}, <b>Location:</b> {job.location}</p>
    </div>
    <div class="flex ml-auto pl-2 mr-2 font-semibold items-center text-center">
        {job.salary} {job.currency || "INR"}
    </div>
    <div class="flex ml-auto border-primary">
        <div class="flex md:flex-col items-center text-center gap-2">
            <a href=`/user/jobs/${job.id}/apply` class="text-white border border-primary hover:text-purple-800 hover:border bg-primary hover:bg-white focus:ring-2 focus:outline-none focus:ring-purple-300 font-bold rounded-lg text-sm px-5 py-1.5 text-center">Apply</a>
            <a href=`/user/jobs/${job.id}` class="text-primary hover:text-purple-800 border bg-purple-100 focus:ring-2 focus:outline-none focus:ring-purple-300 font-bold rounded-lg text-sm px-5 py-1.5 text-center">View</a>
        </div>
    </div>    
</div>