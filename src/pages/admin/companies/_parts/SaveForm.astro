---

// --- Placeholder for dynamic data/logic (where JS would go) ---
const placeholderLogoUrl = "/logo-pink.jpg"; // Replace with actual logo URL or a placeholder
const users = [
    { id: 1, name: "Admin User 1" },
    { id: 2, name: "Manager 2" },
    { id: 3, name: "HR Lead 3" },
];
---
<div class="w-full mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-10 border border-gray-100">
<div class="flex items-center justify-between mb-8 pb-4 border-b border-gray-200">
    <h2 class="text-3xl font-bold text-gray-900">üè¢ Create New Company</h2>
    <a href="/admin/companies" class="bg-violet-500 text-white px-5 py-2 rounded-xl text-sm font-semibold hover:bg-violet-600 transition duration-200 shadow-md">
        ‚Üê Back to Companies
    </a>
</div>

<p class="text-gray-500 mb-8">Enter the details for the new company profile and assign a user manager.</p>

<form class="space-y-8">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10 items-start">
        
        <div class="md:col-span-1 flex flex-col items-center justify-center p-6 bg-gray-50 rounded-xl border border-dashed border-gray-300">
            <h3 class="text-lg font-semibold text-gray-700 mb-4">Company Logo</h3>
            
            <label for="logo" class="relative block cursor-pointer group">
                <img id="logo-preview" class="w-32 h-32 object-contain rounded-full border-4 border-violet-300 ring-4 ring-violet-50 ring-offset-2 transition-transform duration-200 group-hover:scale-105" 
                    src={placeholderLogoUrl} 
                    alt="Company Logo Preview"
                />
                
                <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M5.5 13a3.5 3.5 0 01-3.5-3.5V7A3.5 3.5 0 015.5 3h1A3.5 3.5 0 0110 5.5v1A3.5 3.5 0 0112 10.5h-.5a.5.5 0 00-.5.5v1.5a.5.5 0 00.5.5H13a3.5 3.5 0 01-3.5 3.5H5.5z" clip-rule="evenodd" />
                    </svg>
                </div>
                
                <input type="file" id="logo" name="logo" class="hidden" accept="image/*" required/>
            </label>

            <p class="text-xs text-gray-500 mt-3 text-center">Click the logo to upload (Max 2MB)</p>
        </div>

        <div class="md:col-span-2 space-y-6">
            <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-4">General Details</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Company Name</label>
                    <input type="text" id="name" name="name" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
                </div>
                
                <div>
                    <label for="industryType" class="block text-sm font-medium text-gray-700 mb-1">Industry Type</label>
                    <input type="text" id="industryType" name="industryType" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
                </div>

                <div>
                    <label for="recruiterName" class="block text-sm font-medium text-gray-700 mb-1">Recruiter Name</label>
                    <input type="text" id="recruiterName" name="recruiterName" placeholder="Akash Gupta" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
                </div>

                <div>
                    <label for="website" class="block text-sm font-medium text-gray-700 mb-1">Website</label>
                    <input type="text" id="website" name="website" placeholder="https://company.com" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
                </div>
            </div>
        </div>
    </div>

    <hr class="border-gray-200" />
    
    <div class="space-y-6">
        <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-4">Contact & Location</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                <input type="text" id="phone" name="phone" placeholder="(555) 123-4567" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
            </div>
            
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Contact Email</label>
                <input type="email" id="email" name="email" placeholder="contact@company.com" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
            </div>

            <div>
                <label for="website" class="block text-sm font-medium text-gray-700 mb-1">Website</label>
                <input type="text" id="website" name="website" placeholder="https://company.com" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
            </div>
            
            <div class="md:col-span-2">
                <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Street Address</label>
                <input type="text" id="address" name="address" placeholder="123 Corporate Blvd." class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
            </div>
            
            <div>
                <label for="city" class="block text-sm font-medium text-gray-700 mb-1">City</label>
                <input type="text" id="city" name="city" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
            </div>
            
            <div>
                <label for="zipCode" class="block text-sm font-medium text-gray-700 mb-1">Zip Code</label>
                <input type="text" id="zipCode" name="zipCode" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
            </div>

            <div>
                <label for="country" class="block text-sm font-medium text-gray-700 mb-1">Country</label>
                <input type="text" id="country" name="country" class="p-3 border border-gray-300 rounded-lg focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required/>
            </div>

            <div>
                <label for="userId" class="block text-sm font-medium text-gray-700 mb-1">Assign Manager</label>
                <select id="userId" name="userId" class="p-3 border border-gray-300 rounded-lg bg-white focus:ring-violet-500 focus:border-violet-500 block w-full shadow-sm" required>
                    <option value="">Select User</option>
                    {users.map((user) => (
                        <option value={user.id}>{user.name}</option>
                    ))}
                </select>
            </div>
        </div>
    </div>

    <div>
        <button type="submit" class="w-full bg-violet-600 text-white font-semibold text-lg py-3 rounded-xl hover:bg-violet-700 transition duration-200 shadow-lg shadow-violet-200/50 focus:outline-none focus:ring-4 focus:ring-violet-500 focus:ring-opacity-50">
            Save Company Profile
        </button>
    </div>
</form>
</div>

<script>
const logoInput = document.getElementById('logo') as HTMLInputElement;
const logoPreview = document.getElementById('logo-preview') as HTMLImageElement;

if (logoInput && logoPreview) {
    logoInput.addEventListener('change', function(event: any) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e: any) {
                logoPreview.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
}
</script>