---
import { OfferStatus } from "@/utils/types/Company";

const {id = 1, title, description, status = "pending"} = Astro.props;
function getStatusColor(status: string) {
    switch(OfferStatus[status as keyof typeof OfferStatus]) {
        case OfferStatus.ACCEPTED:
            return "bg-green-100 text-green-800 border border-green-800";
        case OfferStatus.PENDING:
            return "bg-yellow-100 text-yellow-800 border border-yellow-800";
        case OfferStatus.DECLINED:
            return "bg-red-100 text-red-800 border border-red-800";
        case OfferStatus.EXPIRED:
            return "bg-gray-100 text-gray-800 border border-gray-800";
        default:
            return "bg-gray-100 text-gray-800 border border-gray-800";
    }
}
---
<div class="flex flex-col md:flex-row w-full p-4 border border-purple-100 rounded-lg bg-purple-50 transition duration-200 ease-out hover:shadow-md">
    <div class="flex flex-col flex-1 mb-3 md:mb-0">
        <p class="font-medium text-purple-800">{title || "Ajay Sharma Offered for Digital Marketing Associate"}</p>
        <p class="text-gray-600 text-sm">{description || "Digital Marketing Associate at WomenTech, Bengaluru."}</p>
    </div>
    <div class="flex flex-col mr-4 pl-4 border-t-2 md:border-t-0 md:border-l-2 border-purple-600">
        <div class="w-full text-center mb-3 md:mb-0">
            <p class="font-medium text-purple-80">Status</p>
            <p class={getStatusColor(status) + " p-1 font-semibold text-sm rounded-md"}>{OfferStatus[status as keyof typeof OfferStatus]}</p>
        </div> 
    </div>
    <div class="flex md:ml-auto justify-center items-center border-t-2 md:border-t-0 md:border-l-2 border-purple-600 pl-2">
        <a href=`/admin/offers/${id}/edit` class="text-purple-600 hover:text-purple-900 focus:ring-2 focus:outline-none focus:ring-purple-300 font-bold rounded-lg text-sm px-5 py-1.5 text-center">Update</a>
        <a href=`/admin/offers/${id}/delete` class="text-red-600 hover:text-red-900 focus:ring-2 focus:outline-none focus:ring-purple-300 font-bold rounded-lg text-sm px-5 py-1.5 text-center">Delete</a>
    </div>
</div>