---
import AdminLayout from "@/layouts/AdminLayout.astro";
import QuickHighlight from "./_parts/QuickHighlight.astro";
import AllApplicants from "./_parts/AllApplicants.astro";
import { useHttpClient } from "@/utils/useHttpClient";
import { APP_URL } from "astro:env/server";
import { getSSRPagination } from "@/utils/paginationUtils";
import PageNav from "@/components/PageNav.astro";
const token = Astro.cookies.get('token')?.value as string;
const applicants = await useHttpClient(token).get(APP_URL + '/applicants').then(res => res.json());

const {page} = getSSRPagination(applicants, Astro.url, 10, '/admin/applicants');
---
<AdminLayout title="Applicants - JobsForWomen.com">
  <QuickHighlight />
  <AllApplicants data={page.data} />
  <PageNav page={page} />
</AdminLayout>